flowchart LR
  subgraph Marketing Platform
    MP["Marketing Platform"]
    SE["Segmentation & Personalization Engine"]
    CM["Campaign Manager"]
  end
  subgraph Communication Channels
    Email["Email Service"]
    SMS["SMS Gateway"]
    Push["Push Notification Service"]
    Social["Social Media Ad Platforms"]
  end
  MP --> SE
  SE --> CM
  CM --> Email
  CM --> SMS
  CM --> Push
  CM --> Social
  Email --> UD["Customer Device (App/Web)"]
  SMS --> UD
  Push --> UD
  Social --> UD
  UD -->|Scans QR Code| APIGW["API Gateway"]
  APIGW --> QR["QR Validation Service"]
  QR --> PE["Points Engine"]
  PE --> DB[(PostgreSQL)]
  PE --> RU["Redemption & Fulfillment Service"]
  RU --> CRM["CRM / Fulfillment System"]
  CRM --> UD
  QR <-->|Product Sync| OEM["OEM Backend System"]